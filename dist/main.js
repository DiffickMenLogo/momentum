(()=>{"use strict";const e=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],t=document.querySelector(".date"),n=(new Date).getHours(),o=document.querySelector(".greeting"),a=document.querySelector(".name"),c=["morning","afternoon","evening","night"],r=function(){let e="";return n>5&&n<12&&(e=c[0]),n>11&&n<18&&(e=c[1]),n>17&&n<23&&(e=c[2]),(n>22&&n<25||n<6&&n>=0)&&(e=c[3]),e}(),u=`Good ${r}`;null!=a.value&&""!=a.value&&null!=a.value||(a.value="[Enter name]");var s,i,l=(s=1,i=20,s=Math.ceil(s),i=Math.floor(i),Math.floor(Math.random()*(i-s))+s);const d=document.querySelector("body");function m(){const e=l.toString().padStart(2,"0"),t=new Image;t.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${r}/${e}.jpg`,t.onload=()=>{d.style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${r}/${e}.jpg')`}}async function g(){const e=document.querySelector(".city"),t=document.querySelector(".weather-icon"),n=document.querySelector(".temperature"),o=document.querySelector(".weather-description"),a=`https://api.openweathermap.org/data/2.5/weather?q=${e.value}&lang=ru&appid=406905cee9f385b9b6fc9f1741cd8abe&units=metric`,c=await fetch(a),r=await c.json();t.className="weather-icon owf",t.classList.add(`owf-${r.weather[0].id}`),n.textContent=`${r.main.temp}°C`,o.textContent=r.weather[0].description}const h=document.querySelector(".quote"),f=document.querySelector(".author");var w=1;async function y(){const e=await fetch("data.json"),t=await e.json();h.textContent=t[w].text,f.textContent=t[w].author}!function n(){const o=new Date;var a=o.getDay();const c=o.toLocaleDateString("ru-Ru",{month:"long",day:"numeric"});t.textContent=`${e[a]}, ${c}`,setTimeout(n,1e3)}(),function e(){const t=new Date,n=document.querySelector(".time"),o=t.toLocaleTimeString();n.textContent=`${o}`,setTimeout(e,1e3)}(),function e(){o.textContent=u,setTimeout(e,1e3)}(),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",a.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(a.value=localStorage.getItem("name"))}));const S=document.querySelector(".slide-next"),v=document.querySelector(".slide-prev");m(),S.addEventListener("click",(function(){20!=l?l++:l=1,m()})),v.addEventListener("click",(function(){1!=l?l--:l=20,m()}));const p=document.querySelector(".city");p.value="Минск",g(),p.addEventListener("change",g),y(),document.querySelector(".change-quote").addEventListener("click",(function(){3==++w&&(w=0),y()}))})();