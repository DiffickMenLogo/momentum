(()=>{"use strict";const e=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],t=document.querySelector(".date"),n=(new Date).getHours(),o=document.querySelector(".greeting"),a=document.querySelector(".name"),c=["morning","afternoon","evening","night"],r=function(){let e="";return n>5&&n<12&&(e=c[0]),n>11&&n<18&&(e=c[1]),n>17&&n<23&&(e=c[2]),(n>22&&n<25||n<6&&n>=0)&&(e=c[3]),e}(),s=`Good ${r}`;null!=a.value&&""!=a.value&&null!=a.value||(a.value="[Enter name]");var u,i,l=(u=1,i=20,u=Math.ceil(u),i=Math.floor(i),Math.floor(Math.random()*(i-u))+u);const d=document.querySelector("body");function m(){const e=l.toString().padStart(2,"0"),t=new Image;t.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${r}/${e}.jpg`,t.onload=()=>{d.style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${r}/${e}.jpg')`}}async function g(){const e=document.querySelector(".city"),t=document.querySelector(".weather-icon"),n=document.querySelector(".temperature"),o=document.querySelector(".weather-description"),a=`https://api.openweathermap.org/data/2.5/weather?q=${e.value}&lang=ru&appid=406905cee9f385b9b6fc9f1741cd8abe&units=metric`,c=await fetch(a),r=await c.json();t.className="weather-icon owf",t.classList.add(`owf-${r.weather[0].id}`),n.textContent=`${r.main.temp}°C`,o.textContent=r.weather[0].description}const y=document.querySelector(".quote"),h=document.querySelector(".author");var S=1;async function p(){const e=await fetch("data.json"),t=await e.json();y.textContent=t[S].text,h.textContent=t[S].author}const w=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"03:50"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"03:50"},{title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"03:50"}],f=document.querySelector("audio");!function n(){const o=new Date;var a=o.getDay();const c=o.toLocaleDateString("ru-Ru",{month:"long",day:"numeric"});t.textContent=`${e[a]}, ${c}`,setTimeout(n,1e3)}(),function e(){const t=new Date,n=document.querySelector(".time"),o=t.toLocaleTimeString();n.textContent=`${o}`,setTimeout(e,1e3)}(),function e(){o.textContent=s,setTimeout(e,1e3)}(),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",a.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(a.value=localStorage.getItem("name"))}));const q=document.querySelector(".slide-next"),v=document.querySelector(".slide-prev");m(),q.addEventListener("click",(function(){20!=l?l++:l=1,m()})),v.addEventListener("click",(function(){1!=l?l--:l=20,m()}));const $=document.querySelector(".city");$.value="Минск",g(),$.addEventListener("change",g),p(),document.querySelector(".change-quote").addEventListener("click",(function(){3==++S&&(S=0),p()}));let C=!1;document.querySelector(".play").addEventListener("click",(e=>{C=!C,1==C?(f.src=w[1].src,f.currentTime=0,f.play(),console.log(C)):0==C&&(f.pause(),console.log(C))}))})();