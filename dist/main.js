(()=>{"use strict";const e=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],t=document.querySelector(".date"),n=(new Date).getHours(),o=document.querySelector(".greeting"),a=document.querySelector(".name"),s=["morning","afternoon","evening","night"],c=function(){let e="";return n>5&&n<12&&(e=s[0]),n>11&&n<18&&(e=s[1]),n>17&&n<23&&(e=s[2]),(n>22&&n<25||n<6&&n>=0)&&(e=s[3]),e}(),r=`Good ${c}`;null!=a.value&&""!=a.value&&null!=a.value||(a.value="[Enter name]");var u,i,l=(u=1,i=20,u=Math.ceil(u),i=Math.floor(i),Math.floor(Math.random()*(i-u))+u);const d=document.querySelector("body");function m(){const e=l.toString().padStart(2,"0"),t=new Image;t.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${c}/${e}.jpg`,t.onload=()=>{d.style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${c}/${e}.jpg')`}}async function p(){const e=document.querySelector(".city"),t=document.querySelector(".weather-icon"),n=document.querySelector(".temperature"),o=document.querySelector(".weather-description"),a=`https://api.openweathermap.org/data/2.5/weather?q=${e.value}&lang=ru&appid=406905cee9f385b9b6fc9f1741cd8abe&units=metric`,s=await fetch(a),c=await s.json();t.className="weather-icon owf",t.classList.add(`owf-${c.weather[0].id}`),n.textContent=`${c.main.temp}°C`,o.textContent=c.weather[0].description}const y=document.querySelector(".quote"),g=document.querySelector(".author");var S=1;async function q(){const e=await fetch("dist/data.json"),t=await e.json();y.textContent=t[S].text,g.textContent=t[S].author}const w=[{id:1,title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{id:2,title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"03:50"},{id:3,title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"03:50"},{id:4,title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"03:50"}],h=document.querySelector("audio");document.querySelector(".play");var v=0;!function n(){const o=new Date;var a=o.getDay();const s=o.toLocaleDateString("ru-Ru",{month:"long",day:"numeric"});t.textContent=`${e[a]}, ${s}`,setTimeout(n,1e3)}(),function e(){const t=new Date,n=document.querySelector(".time"),o=t.toLocaleTimeString();n.textContent=`${o}`,setTimeout(e,1e3)}(),function e(){o.textContent=r,setTimeout(e,1e3)}(),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",a.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(a.value=localStorage.getItem("name"))}));const f=document.querySelector(".slide-next"),L=document.querySelector(".slide-prev");m(),f.addEventListener("click",(function(){20!=l?l++:l=1,m()})),L.addEventListener("click",(function(){1!=l?l--:l=20,m()}));const E=document.querySelector(".city");E.value="Минск",p(),E.addEventListener("change",p),q(),document.querySelector(".change-quote").addEventListener("click",(function(){3==++S&&(S=0),q()}));let $=!1;const x=document.querySelector(".play");x.addEventListener("click",(e=>{$=!$,x.classList.toggle("pause"),1==$?(document.querySelector("play-now"),h.src=w[v].src,h.currentTime=0,h.play()):0==$&&(document.querySelector("play-now"),h.pause())})),document.querySelector(".play-next").addEventListener("click",(()=>{!1===x.classList.contains("pause")&&x.classList.add("pause"),console.log(x.classList.contains("pause")),$=!0,h.pause(),4==++v&&(v=0),h.src=w[v].src,h.play()})),document.querySelector(".play-prev").addEventListener("click",(()=>{!1===x.classList.contains("pause")&&x.classList.add("pause"),console.log(x.classList.contains("pause")),$=!0,h.pause(),-1==--v&&(v=3),h.src=w[v].src,h.play()}))})();